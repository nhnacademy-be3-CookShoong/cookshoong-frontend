<!DOCTYPE html>
<html data-bs-theme="light" lang="en" data-bss-forced-theme="light" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>회원가입</title>
    <link rel="stylesheet" href="/assets/vendors/typicons.font/font/typicons.css">
    <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="/assets/css/vertical-layout-light/style.css">
    <link rel="stylesheet" href="/assets/css/vertical-layout-light/custom.css">
    <link rel="shortcut icon" href="/assets/images/favicon.png"/>

    <script src="/assets/js/form-validation.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=55b38bb80852c12b35f14456e76868a9&libraries=services"></script>
</head>

<body>
<div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth px-0">
            <div class="row w-100 mx-0">
                <div class="col-lg-4 mx-auto">
                    <div class="auth-form-light text-left py-5 px-4 px-sm-5">
                        <div class="brand-logo">
                            <img src="/assets/images/shoong_orange.png" alt="logo">
                        </div>
                        <h4>New here?</h4>
                        <h6 class="font-weight-light">Signing up is easy. It only takes a few steps</h6>
                        <form class="pt-3 needs-validation" th:action="@{/sign-up(userType=${userType})}" th:object="${signUpRequestDto}" method="post">
                            <div class="form-group" >
                                <input type="text" class="form-control form-control-lg" id="loginId" name="loginId"
                                       th:field="*{loginId}" placeholder="아이디" required>
                                <div class="invalid-feedback">
                                    <p th:if="${#fields.hasErrors('loginId')}" th:errors="*{loginId}"></p>
                                </div>
                            </div>
                            <div class="form-group">
                                <input type="password" class="form-control form-control-lg" id="password"
                                       name="password" th:field="*{password}" placeholder="패스워드" required>
                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}">password Error</p>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control form-control-lg" id="name" name="name"
                                       th:field="*{name}" placeholder="이름" required>
                                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}">name Error</p>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control form-control-lg" id="nickname" name="nickname"
                                       th:field="*{nickname}" placeholder="닉네임" required>
                                <p th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}">nickname Error</p>
                            </div>
                            <div class="form-group">
                                <input type="email" class="form-control form-control-lg" id="email" name="email"
                                       th:field="*{email}" placeholder="you@example.com" required>
                                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">email Error</p>
                            </div>
                            <div class="form-group">
                                <input type="date" class="form-control form-control-lg" id="birthday" name="birthday"
                                       th:field="*{birthday}" placeholder="생년월일" required>
                                <p th:if="${#fields.hasErrors('birthday')}" th:errors="*{birthday}">birthday Error</p>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control form-control-lg" id="phoneNumber"
                                       name="phoneNumber" th:field="*{phoneNumber}" placeholder="전화번호" required>
                                <p th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}">phoneNumber
                                    Error</p>
                            </div>
                            <div class="form-group">
                                <div class="flex-container">
                                    <input type="text" class="form-control form-control-lg address-inputField" id="mainPlace"
                                           name="createAccountAddressRequestDto.mainPlace"
                                           th:field="*{createAccountAddressRequestDto.mainPlace}" placeholder="메인 주소">
                                    <button class="btn btn-outline-warning" onclick="execDaumPostcode()" type="button">
                                        주소 검색
                                    </button>
                                </div>
                            </div>
                            <div class="form-group">
                                <input class="form-control form-control-lg" type="text" id="detailPlace"
                                       name="createAccountAddressRequestDto.detailPlace"
                                       th:field="*{createAccountAddressRequestDto.detailPlace}" placeholder="서브 주소">
                            </div>
                            <div class="form-group">
                                <input class="form-control form-control-lg" type="text" id="alias"
                                       name="createAccountAddressRequestDto.alias"
                                       th:field="*{createAccountAddressRequestDto.alias}" placeholder="별칭">
                            </div>
                            <input type="hidden" id="latitude" name="createAccountAddressRequestDto.latitude"
                                   th:field="*{createAccountAddressRequestDto.latitude}">
                            <input type="hidden" id="longitude" name="createAccountAddressRequestDto.longitude"
                                   th:field="*{createAccountAddressRequestDto.longitude}">
                            <div class="mb-4">
                                <div class="form-check form-check-warning">
                                    <label class="form-check-label text-muted">
                                        <input type="checkbox" class="form-check-input">
                                        I agree to all Terms & Conditions
                                    </label>
                                </div>
                            </div>

                            <div class="mt-3">
                                <button class="btn btn-block btn-warning btn-lg font-weight-medium auth-form-btn sign-up-btn"
                                        type="submit">SIGN UP
                                </button>
                            </div>
                            <div class="text-center mt-4 font-weight-normal">
                                Already have an account? <a th:href="@{/login-page}" class="text-warning">Login</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/assets/vendors/js/vendor.bundle.base.js"></script>
<script src="/assets/js/off-canvas.js"></script>
<script src="/assets/js/hoverable-collapse.js"></script>
<script src="/assets/js/template.js"></script>
<script src="/assets/js/settings.js"></script>
<script src="/assets/js/todolist.js"></script>
<script>
    const geocoder = new daum.maps.services.Geocoder();

    function execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function (data) {
                document.getElementById("mainPlace").value = data.address;
                geocoder.addressSearch(data.address, function (results, status) {
                    if (status === daum.maps.services.Status.OK) {
                        const result = results[0];
                        const lat = result.y;
                        const lng = result.x;
                        document.getElementById("latitude").value = lat;
                        document.getElementById("longitude").value = lng;
                    }
                });
            }
        }).open();
    }
</script>
</body>

</html>
